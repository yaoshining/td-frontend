<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../../bower_components/jquery/dist/jquery.js"></script>
    <script src="../vendor/flot/flot.js"></script>
    <script src="../vendor/flot/flot.pie.js"></script>
    <script>
        $(function(){
            var data = [{
                color: "#68BC31",
                data: 38.7,
                label: "social networks"
            },{
                color: "#2091CF",
                data: 24.5,
                label: "search engines"
            },{
                color: "#AF4E96",
                data: 8.2,
                label: "ad campaigns"
            },{
                color: "#DA5430",
                data: 18.6,
                label: "direct traffic"
            },{
                color: "#FEE074",
                data: 10,
                label: "other"
            }];

            var placeholder = $("#placeholder");
            $.plot(placeholder, data, {
                series: {
                    pie: {
                        show: true,
                        tilt: 0.8,
                        stroke: {
                            color: "#fff",
                            width: 2
                        }
                    }
                },
                legend: {
                    backgroundOpacity: 0.85,
                    noColumns: 1,
                    labelBoxBorderColor: null,
                    margin: {
                        0: -30,
                        1: 15
                    }
                },
                label: {
                    show: true
                },
                grid: {
                    show:false,
                    aboveData:false,
                    color:"#545454",
                    backgroundColor:null,
                    borderColor:'#545454',
                    "tickColor":"rgba(84,84,84,0.22)",
                    "margin":0,
                    "labelMargin":5,
                    "axisMargin":8,
                    "borderWidth":2,
                    "minBorderMargin":null,
                    "markings":null,
                    "markingsColor":"#f4f4f4",
                    "markingsLineWidth":2,
                    "clickable":true,
                    "hoverable":true,
                    "autoHighlight":true,
                    "mouseActiveRadius":10
                }
            });
            placeholder.bind("plothover", function(event, pos, obj) {
                if (!obj) {
                    return;
                }

                var percent = parseFloat(obj.series.percent).toFixed(2);
                $("#hover").html("<span style='font-weight:bold; color:" + obj.series.color + "'>" + obj.series.label + " (" + percent + "%)</span>");
            });
        })
    </script>
</head>
<body>
    <div id="placeholder" style="width: 502px;height: 150px"></div>
</body>
</html>
